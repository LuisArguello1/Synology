<!-- PESTAÑA FTP -->
<div id="tab-ftp" class="tab-content">
    <form id="form-ftp">

        <!-- FTP / FTPS -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleCollapsible(this)">
                <h4 class="font-medium text-sm text-gray-800">FTP / FTPS</h4>
                <i class="fas fa-chevron-down text-gray-400 transition-transform"></i>
            </div>
            <div class="collapsible-body open">
                <!-- Checkboxes principales -->
                <div class="space-y-3 mb-6">
                    <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                        <input type="checkbox" id="ftp_enable" name="enable_ftp" class="custom-checkbox" checked>
                        <span>Habilitar servicio FTP (sin cifrado)</span>
                    </label>

                    <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                        <input type="checkbox" id="ftp_enable_ftps" name="enable_ftps" class="custom-checkbox">
                        <span>Habilitar servicio de cifrado FTP SSL/TLS (FTPS)</span>
                    </label>
                </div>

                <!-- Configuración de puertos -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Tiempo de espera:
                        </label>
                        <div class="flex items-center gap-2">
                            <input type="number" id="ftp_timeout" name="timeout" value="300" min="1" max="7200"
                                class="port-input">
                            <span class="text-sm text-gray-600">segundo(s) (1-7200)</span>
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">
                            Número de puerto del servicio FTP:
                        </label>
                        <input type="number" id="ftp_port" name="port" value="21" class="port-input">
                    </div>
                </div>

                <!-- Intervalo de puertos FTP pasivo -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-3">
                        Configuración del número de puerto del servicio FTP:
                    </label>

                    <label class="flex items-center text-sm text-gray-700 mb-2 cursor-pointer">
                        <input type="radio" name="ftp_pasv_mode" value="default" class="mr-2" checked>
                        <span>Utilice el intervalo de puertos predeterminado (55536-55567)</span>
                    </label>

                    <label class="flex items-center text-sm text-gray-700 mb-2 cursor-pointer">
                        <input type="radio" name="ftp_pasv_mode" value="custom" class="mr-2">
                        <span>Utilice el siguiente intervalo de puertos:</span>
                    </label>

                    <div class="ml-6 flex items-center gap-3">
                        <span class="text-sm text-gray-600">Del:</span>
                        <input type="number" id="ftp_pasv_min" value="55536" class="port-input">
                        <span class="text-sm text-gray-600">A:</span>
                        <input type="number" id="ftp_pasv_max" value="55999" class="port-input">
                    </div>
                </div>

                <!-- Opciones adicionales -->
                <div class="space-y-3 mb-6">
                    <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                        <input type="checkbox" id="ftp_notify_external_ip" class="custom-checkbox">
                        <span>Notificar IP externa en modo PASV</span>
                    </label>

                    <div class="ml-6">
                        <label class="block text-sm text-gray-600 mb-2">Asignar IP externa:</label>
                        <input type="text" id="ftp_external_ip" placeholder="0.0.0.0" disabled
                            class="w-48 px-3 py-2 border border-gray-300 rounded-md bg-gray-100">
                    </div>

                    <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                        <input type="checkbox" id="ftp_enable_fxp" class="custom-checkbox">
                        <span>Habilitar FXP</span>
                    </label>

                    <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                        <input type="checkbox" id="ftp_enable_ascii" class="custom-checkbox">
                        <span>Admitir el modo de transferencia ASCII</span>
                    </label>
                </div>

                <!-- Codificación UTF-8 -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        Codificación UTF-8:
                    </label>
                    <select id="ftp_utf8_encoding" class="w-48 px-3 py-2 border border-gray-300 rounded-md">
                        <option value="auto" selected>Automática</option>
                        <option value="force">Forzar</option>
                        <option value="disable">Deshabilitado</option>
                    </select>
                </div>

                <!-- Configuración de visualización -->
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-3">
                        Formato de hora:
                    </label>
                    <div class="space-y-2">
                        <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                            <input type="radio" name="ftp_time_format" value="utc" class="mr-2" checked>
                            <span>Hora UTC</span>
                        </label>
                        <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                            <input type="radio" name="ftp_time_format" value="local" class="mr-2">
                            <span>Hora local en el servidor</span>
                        </label>
                    </div>
                </div>

                <!-- Restricción de conexión -->
                <div>
                    <a href="#" class="link-text text-sm" onclick="openConnectionRestriction(); return false;">
                        <i class="fas fa-shield-alt mr-1"></i>Restricción de conexión
                    </a>
                </div>
            </div>
        </div>

        <!-- SFTP -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleCollapsible(this)">
                <div>
                    <h4 class="font-medium text-sm text-gray-800">SFTP</h4>
                    <p class="text-xs text-gray-600 mt-1">FTP sobre SSH (puerto 22)</p>
                </div>
                <i class="fas fa-chevron-down text-gray-400 transition-transform"></i>
            </div>
            <div class="collapsible-body">
                <label class="flex items-center text-sm text-gray-700 cursor-pointer">
                    <input type="checkbox" id="ftp_enable_sftp" name="enable_sftp" class="custom-checkbox">
                    <span>Habilitar servicio SFTP</span>
                </label>
                <p class="text-xs text-gray-600 mt-2">
                    SFTP utiliza el puerto SSH (por defecto 22) para transferencias cifradas
                </p>
            </div>
        </div>

        <!-- General -->
        <div class="collapsible-section">
            <div class="collapsible-header" onclick="toggleCollapsible(this)">
                <h4 class="font-medium text-sm text-gray-800">General</h4>
                <i class="fas fa-chevron-down text-gray-400 transition-transform"></i>
            </div>
            <div class="collapsible-body">
                <p class="text-sm text-gray-700 mb-4">
                    Configure opciones generales de registro y límites de velocidad para servicios FTP/SFTP.
                </p>

                <button type="button" class="action-button secondary mb-4" onclick="openAdvancedSettings('ftp')">
                    <i class="fas fa-sliders-h mr-2"></i>Configuración avanzada
                </button>

                <div class="text-sm text-gray-600">
                    <i class="fas fa-info-circle mr-1"></i>
                    Puede configurar límites de velocidad específicos para usuarios y grupos desde la configuración de
                    cada usuario/grupo.
                </div>
            </div>
        </div>
    </form>
</div>